<div class="outer">
    
    <div class="container">
        <div class="row">
                <div class="panel border bg-white">
                    <div class="title-container">
                        <h2 class="login-title">
                            <span class="line">{{'Login'|translate}}</span>
                        </h2>
                        
                    </div>

                    <div class="panel-heading form-group">

                        <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
                            <li class="nav-item d-flex justify-content-end">
                                <div class="custom-dropdown "
                                    (click)="toggleDropdown()"
                                    (blur)="closeDropdown()" tabindex="0">
                                    <div class="selected-option ">
                                        <img [src]="getFlag(lang)"
                                            alt="{{lang}} Flag"
                                            class="flag-icon" /> {{
                                        getLangName(lang) | translate }}
                                    </div>
                                    <div class="dropdown-options"
                                        [class.show]="dropdownOpen">
                                        <div class="dropdown-option"
                                            *ngFor="let option of langOptions"
                                            (click)="changeLang($event, option.value)">
                                            <img [src]="getFlag(option.value)"
                                                alt="{{option.label}} Flag"
                                                class="flag-icon" /> {{
                                            option.label | translate }}
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>        
                 <div class="panel-body">
                    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">  
                        <div>
                         <div class="form-group ">
                            <div class="input-field" [class.error]="loginForm.controls['TEID'].dirty && loginForm.hasError('required','TEID')" >
                                <span class="fa fa-id-card"></span>
                                <input formControlName="TEID" type="text" placeholder="TE ID">
                            </div>
                         </div>
                         <small *ngIf="loginForm.controls['TEID'].dirty && loginForm.hasError('required','TEID')" class="text-danger"> {{'TE ID is required'|translate}}</small>
                         <div class="form-group ">
                            <div class="input-field" [class.error]="loginForm.controls['Password'].dirty && loginForm.hasError('required','Password')">
                                <span class="fa fa-key"></span>
                                <input  formControlName="Password" [type]="type" placeholder="{{'Password'|translate}}">
                                <span (click)="hideShowPass()" class="fa {{eyeIcon}}"></span>
                            </div>
                          </div>

                         <small *ngIf="loginForm.controls['Password'].dirty && loginForm.hasError('required','Password')" class="text-danger">{{'Password is required'|translate}} </small>
                  
                          <div class="d-flex justify-content-end mt-4">
                            <a id="forgot" data-bs-toggle="modal" data-bs-target="#exampleModal1" class="font-weight-bold forgot-password-link">{{ 'Forgot Password' | translate }}</a>
                          </div>

                        </div><div class="mx-3 my-2 py-2 bordert">
                            
                        </div>
                        <div >
                            <div class="form-group">
                                <div class="input-field" >
                                                    <span class="fa fa-id-badge"></span>
                                                    <input type="text" placeholder="Badge ID" disabled [value]="scannedID">
                                                    <button type="button" class="btn btn-primary btn-block mt-0  w-100 btn-scan" (click)="triggerScanner()" data-bs-toggle="modal" data-bs-target="#exampleModal">{{'Click to scan Badge'|translate}}</button>
                                </div>
                
                                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" [class.show]="showModal">
                                                <div class="modal-dialog modal-dialog-centered">
                                                    <div class="modal-content">
                                                       
                
                                                     
                                                        
                                                    
                                                        <div class="modal-body">
                                                            <div class="loadeer" *ngIf="!badgeIdDetected" >
                                                                <span></span>
                                                                <span></span>
                                                                <span></span>
                                                                <div data-text="Loading..." class="text"></div>
            
                                                            </div>   

                                                            <div *ngIf="badgeIdDetected" class="checkmark">

                                                                    <span style="font-size: 25px;font-weight:700">Badge Detected Successfully </span>
                                                                    <i class="fa fa-check-circle icon" aria-hidden="true"></i>
                                                                    <br>
                                                            </div>
                                                        </div>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                </div>
                                </div>

                            </div>
                        </div> 
                        <button (click)="onLogin()" type="submit" class="btn btn-primary btn-block mt-4 w-100 btn-login" [disabled]="isSubmitting">
                            {{ 'Login' | translate }}
                          </button>
                         <div class="text-center pt-4 text-muted text-below-button">
                            {{ "Don't have an account?" | translate }}
                            <a id="forget" routerLink="/signup">{{ 'Sign Up' | translate }}</a>
                         </div>
                    </form>
                </div>
                   

                
            </div>
        </div>
    </div>
</div>




<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">

              <p class="modal-title" id="exampleModalLabel"> <span style="font-size: 25px;font-weight:700">Forgot your password ?</span><br>
                  <small>Please check your E-mail you will receive the reset link</small></p>

              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

          </div>
          <form [formGroup]="ResetPasswordForm">
            
            <div class="form-group">
                <div style="display: flex; align-items: center;">
               <h6 class="phrase">{{'Are you an Operator ?'|translate}} </h6> 
          
                <label class="switch">
                    <input  (change)="toggleNotOperator()" type="checkbox" >
                    <div class="slider">
                        <div class="circle">
                            <svg class="cross" xml:space="preserve" style="enable-background:new 0 0 512 512" viewBox="0 0 365.696 365.696" y="0" x="0" height="6" width="6" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                <g>
                                    <path data-original="#000000" fill="currentColor" d="M243.188 182.86 356.32 69.726c12.5-12.5 12.5-32.766 0-45.247L341.238 9.398c-12.504-12.503-32.77-12.503-45.25 0L182.86 122.528 69.727 9.374c-12.5-12.5-32.766-12.5-45.247 0L9.375 24.457c-12.5 12.504-12.5 32.77 0 45.25l113.152 113.152L9.398 295.99c-12.503 12.503-12.503 32.769 0 45.25L24.48 356.32c12.5 12.5 32.766 12.5 45.247 0l113.132-113.132L295.99 356.32c12.503 12.5 32.769 12.5 45.25 0l15.081-15.082c12.5-12.504 12.5-32.77 0-45.25zm0 0"></path>
                                </g>
                            </svg>
                            <svg class="checkmark" xml:space="preserve" style="enable-background:new 0 0 512 512" viewBox="0 0 24 24" y="0" x="0" height="10" width="10" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                <g>
                                    <path class="" data-original="#000000" fill="currentColor" d="M9.707 19.121a.997.997 0 0 1-1.414 0l-5.646-5.647a1.5 1.5 0 0 1 0-2.121l.707-.707a1.5 1.5 0 0 1 2.121 0L9 14.171l9.525-9.525a1.5 1.5 0 0 1 2.121 0l.707.707a1.5 1.5 0 0 1 0 2.121z"></path>
                                </g>
                            </svg>
                        </div>
                    </div>
                </label>
            </div>


            </div>
            <div class="modal-body">
              <div class="form-group">
  
                  <div class="input-field">
                      <span class="fa fa-user p-2"></span>
                      <input [(ngModel)]="teID" (ngModelChange)="checkTEValid($event)" formControlName="TEID"  type="text" placeholder="TEID">
                  </div>
                  <small *ngIf="!teID" class="text-danger">TEID is required</small>
                  <small *ngIf="!isValidTEID && teID" class="text-danger">TEID is invalid</small>
                
              </div>
          
                <div class="form-group pt-2" *ngIf="!isNotOperatorChecked">
                    <div class="input-field">
                        <span class="fa fa-at p-2"></span>
                        <input [(ngModel)]="resetPasswordEmail" (ngModelChange)="checkValidEmail($event)" formControlName="Email" type="text" placeholder="Email">
                    </div>
                    <small *ngIf="!isValidEmail && resetPasswordEmail" class="text-danger">Email is invalid</small>
                </div>
          </div>
          
          <div class="modal-footer">
                <button type="button" (click)="confirmToSend()" class="btn btn-primary btn-send">Send</button>
          </div>
      </form>

      </div>
  </div>
</div>  